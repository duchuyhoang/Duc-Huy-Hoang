<div class="modal fade" id="addConversation" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <form method="POST" [formGroup]="addForm" (ngSubmit)="addConversation()">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">New conversation</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <i class="fas fa-envelope prefix grey-text mr-2"></i>
          <label data-error="wrong" data-success="right" for="defaultForm-email">Conversation title</label>
          <input type="text" id="defaultForm-email" class="form-control validate"
          formControlName="chatTitle"
          placeholder="Title here">
          <div class="conversationFormError" *ngIf="addFormTitleError">
              Không được để trống
            </div>
        </div>

        <div class="md-form mb-4">
          <i class="fas fa-lock prefix grey-text mr-2"></i>
          <label data-error="wrong" data-success="right" for="defaultForm-pass">Add new user(Optional)</label>
          <div class="position-relative">
          <input type="email" id="addUser" class="form-control validate"
          formControlName="addEmail"
          >
          <div class="conversationFormError" *ngIf="addEmailError">
            Sai định dang email
          </div>
        <button class="btn btn-info addUserButton" type="button" (click)="addUserToList()" placeholder="User email" >Add user</button>
        </div>
    </div>
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button class="btn btn-danger" type="submit">Add</button>
      </div>
    </div>
  </div>
</form>
</div>

<!-- <div class="text-center">
  <a href="" class="btn btn-default btn-rounded mb-4" data-toggle="modal" data-target="#modalLoginForm">Launch
    Modal Login Form</a>
</div> -->




<div class="bg d-flex flex-column">
<h1 class="text-center">Duc Huy Hoang chat app</h1>
<nav class="navbar navbar-expand navbar-dark bg-dark">
    <div class="navbar-brand user-name">Hello {{currentUser.name}}</div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <!-- <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#">Disabled</a>
        </li> -->
      </ul>
      <li class="nav-item">
          
       <i class="fa fa-plus cursor-pointer" style="font-size:4rem;color:#FAC564;margin-right:10px" (click)="showAddConversationForm()"></i>
      </li>
      <form class="form-inline my-2 my-lg-0">
        <div class="sb-example-1">
            <div class="search">
               <input type="text" class="searchTerm" placeholder="Search chat by user email">
               <button type="submit" class="searchButton">
                 <i class="fa fa-search"></i>
              </button>
            </div>
         </div>
      </form>
<div class="signout cursor-pointer" (click)="signOut()">
    <i class="fas fa-sign-out-alt" style="font-size:4rem;color:#FAC564"></i>
</div>

    </div>
  </nav>


<!-- <div class="chat-list-title text-center">
Your chat list 

</div> -->
<!-- {{currentUserChatListInfo[0].content}} -->

<div class="container">
<div class="chat-list mt-5 overflow-scroll">
    
    <div class="one-chat d-flex mb-1" *ngFor="let oneChat of currentUserChatListInfo,let i=index">
        <div class="one-chat-info">
            <div class="one-chat-title">
                {{oneChat.titles}}
            </div>
        </div>
      
<a [routerLink]="['/chat-screen',currentUserAllConversationId[i]]" routerLinkActive="router-link-active" >
    <span></span>        
</a>
    </div>

    
</div>
</div>
</div>
<button (click)="test()">Test</button>


<!-- Successful add -->
<div class="modal fade" tabindex="-1" role="dialog" id="successfulAdd">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <!-- <h5 class="modal-title">Thêm thành công</h5> -->
          Thêm email thành công nhấn add để tạo conversation với email vừa thêm
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Thêm thành công</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>

        </div>
      </div>
    </div>
  </div>



